<!DOCTYPE html>
<html>
<title>Facial Recognition | Roots</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" type="image/png" href="assets/images/roots-logo.png" sizes="16x16">
<link rel="stylesheet" href="static/css/style.css" />
<!-- <link rel="stylesheet" href="assets/css/style.css" /> -->
<!-- <link rel="stylesheet" href="css/footer.css" /> -->
<!-- <link rel="stylesheet" href="css/nav.css" /> -->
<link rel="stylesheet" href="static/css/course-page.css" />
<body>

<div class="flexRow">
<!-- Sidebar -->
  <div class="sidebar-content">
    <div class="back-buttons">
      <a href="index.html">
        <h1>&lt <img src="static/images/roots-logo1.png" width="80"></h1>
      </a>
    </div>
    <h3 class="bar-heading">Facial Recognition</h3>
    <ul>
      <li>
        <a href="course-page.html" class="side-link">Facial Recognition</a>
      </li>
      <li>
        <a href="course-page2.html" class="side-link">How It Works</a>
      </li>
      <li>
        <a href="course-page3.html" class="side-link active">STEP 1: Face Detection</a>
      </li>
      <li>
        <a href="course-page4.html" class="side-link">STEP 2: Facial Landmark Estimation</a>
      </li>
      <li>
        <a href="course-page5.html" class="side-link">Storytime</a>
      </li>
      <li>
        <a href="course-page6.html" class="side-link">STEP 3: Face Encoding</a>
      </li>
      <li>
        <a href="course-page7.html" class="side-link">STEP 4: Face Comparison</a>
      </li>
      <li>
        <a href="course-page8.html" class="side-link">Machine Learning</a>
      </li>
      <li>
        <a href="course-page9.html" class="side-link">Algorithmic Bias</a>
      </li>
      <li>
        <a href="course-page10.html" class="side-link">Storytime</a>
      </li>
      <li>
        <a href="course-page11.html" class="side-link">Police and Surveillance</a>
      </li>
      <li>
        <a href="course-page12.html" class="side-link">Resources</a>
      </li>
    </ul>
  </div>
<!-- Page Content -->
<div class="course-content">
  <h1 class="bar-heading">Face Detection</h1>
  <div class="text-container">
    <img class="ex-images" src="static/images/fac-detection1.png" align="right" height=131 width=256>
    <p>
    Face detection is the name of the process a computer uses to find faces in an image. You may have noticed that iPhones will draw a yellow box around people’s faces when it is about to take a picture. This is an example of face detection in action. The camera uses face detection technology to find faces in a photo so that the faces are always in focus.
    </p>
    <p>
      But how does the computer find the faces? Computers don't "see" images in the same way you and me do. Instead, they analyze images at the pixel level. To start, a face detection algorithm will transfer the image into black and white; it doesn’t need color to find faces. Next, the algorithm starts to look at each pixel in the image. For each pixel, it looks at the pictures around it and compares the darkness of each pixel to the pixel around it.
    </p>
    <p>
      By comparing each pixel in an image to pixels next to it, the algorithm finds the gradient patterns in the image. This means that it transfers everything in the image into sets of lines that show edges in the image. The algorithm does this process to strip the image of its details and make a representation of the basic structure of the image, which makes it easier to analyze. It compares the basic structure of the image to a structure that represents a human face. If there is a shape in the image that appears similar to the face representation, the algorithm tags that part of the image as a face.
    </p>

    <img class="ex-images" src="static/images/Astronaut1.png" height=200 width=200></img>
    <img class="ex-images" src="static/images/Astronaut1-ConvertImage.png" height=200 width=200></img>
    <img class="ex-images" src="static/images/Astronaut2.png" height=200 width=200></img>
    <img class="ex-images" src="static/images/FaceHistogram.png" height=200 width=200></img>
    <p>
      Upload a picture of your face to see the face detection algorithm in action:
    </p>
  </div>

  <header class="navbar">
    <form name="form1" action="/upload_face_detection" method="post" enctype="multipart/form-data" >
        <div align="center">
            <label>
              <input type="file" name="image">
            </label>
            <input type="submit" value="Upload your image" class="btn btn-primary">
        </div>
    </form>
</header>

<div class="text-center">
    {% if init %}
        {% if faceDetected %}
            {% if image_to_show %}
            <div>

            </div>
                <div align="center" style="padding:20px;">
                    <img src="data:image/jpg;base64,{{image_to_show|safe}}">                   
                </div>
                <div>
                  You should see a red box drawn around your face. The detection algorithm has found your face! Now it can begin to look at your face in greater detail.
                </div>
            {% endif %}
        {% else %}
            <div class="alert alert-danger" style="margin-top:18px;">
                <strong>Nope!</strong> No face detected
            </div>
        {% endif %}
    {% endif %}
</div>
<!--
<video id="player" controls autoplay></video>
<button id="capture">Capture</button>
<canvas id="canvas" width=320 height=240></canvas>
<script>
  const player = document.getElementById('player');
  const canvas = document.getElementById('canvas');
  const context = canvas.getContext('2d');
  const captureButton = document.getElementById('capture');

  const constraints = {
    video: true,
  };

  captureButton.addEventListener('click', () => {
    // Draw the video frame to the canvas.
    context.drawImage(player, 0, 0, canvas.width, canvas.height);
    document.getElementById('my_hidden').value = canvas.toDataURL('image/png');
    document.forms["form1"].submit();

  });


  // Attach the video stream to the video element and autoplay.
  navigator.mediaDevices.getUserMedia(constraints)
    .then((stream) => {
      player.srcObject = stream;
    });
</script>
-->

  <div class="next-button">
    <button onclick="window.location.href='course-page4.html'">
      Next
    </button>
  </div>

</div>

</body>
</html>
